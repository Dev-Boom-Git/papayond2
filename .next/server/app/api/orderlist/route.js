/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/orderlist/route";
exports.ids = ["app/api/orderlist/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/mysql2@3.11.0/node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!*************************************************************************************!*\
  !*** ./node_modules/.pnpm/mysql2@3.11.0/node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \*************************************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/.pnpm/mysql2@3.11.0/node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forderlist%2Froute&page=%2Fapi%2Forderlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forderlist%2Froute.js&appDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDesktop%5Cpapayond-1%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDesktop%5Cpapayond-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forderlist%2Froute&page=%2Fapi%2Forderlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forderlist%2Froute.js&appDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDesktop%5Cpapayond-1%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDesktop%5Cpapayond-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_comma_OneDrive_Desktop_papayond_1_src_app_api_orderlist_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/orderlist/route.js */ \"(rsc)/./src/app/api/orderlist/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/orderlist/route\",\n        pathname: \"/api/orderlist\",\n        filename: \"route\",\n        bundlePath: \"app/api/orderlist/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\comma\\\\OneDrive\\\\Desktop\\\\papayond-1\\\\src\\\\app\\\\api\\\\orderlist\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_comma_OneDrive_Desktop_papayond_1_src_app_api_orderlist_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/orderlist/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjVfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvcmRlcmxpc3QlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9yZGVybGlzdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9yZGVybGlzdCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNjb21tYSU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3BhcGF5b25kLTElNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2NvbW1hJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDcGFwYXlvbmQtMSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDbUM7QUFDaEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWV4eS1tdWktbmV4dGpzLWFkbWluLXRlbXBsYXRlLz80OTY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGNvbW1hXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxccGFwYXlvbmQtMVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxvcmRlcmxpc3RcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL29yZGVybGlzdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL29yZGVybGlzdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvb3JkZXJsaXN0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcY29tbWFcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxwYXBheW9uZC0xXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXG9yZGVybGlzdFxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvb3JkZXJsaXN0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forderlist%2Froute&page=%2Fapi%2Forderlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forderlist%2Froute.js&appDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDesktop%5Cpapayond-1%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDesktop%5Cpapayond-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/orderlist/route.js":
/*!****************************************!*\
  !*** ./src/app/api/orderlist/route.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/.pnpm/mysql2@3.11.0/node_modules/mysql2/promise.js\");\n\nconst dbConnect = async ()=>{\n    return await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n        host: process.env.DB_HOST,\n        user: process.env.DB_USER,\n        password: process.env.DB_PASSWORD,\n        database: process.env.DB_NAME\n    });\n};\nasync function GET(request) {\n    let connection;\n    try {\n        connection = await dbConnect();\n        const { searchParams } = new URL(request.url);\n        const uni_id = searchParams.get(\"uni_id\");\n        if (!uni_id) {\n            return new Response(JSON.stringify({\n                error: \"Parameter uni_id is required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        // 1. ดึงข้อมูลจากตาราง address ตาม uni_id\n        const addressQuery = `\n      SELECT\n        id,\n        no_imported,\n        film_no,\n        fname,\n        lname,\n        facid,\n        update_date,\n        update_by\n      FROM\n        address\n      WHERE\n        uni_id = ?\n    `;\n        const [addressRows] = await connection.execute(addressQuery, [\n            uni_id\n        ]);\n        const addressIds = addressRows.map((row)=>row.id);\n        if (addressIds.length === 0) {\n            return new Response(JSON.stringify({\n                data: []\n            }), {\n                status: 200,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        // 2. ดึง booking_no จากตาราง address_booking ที่เกี่ยวข้องกับ address_id\n        const bookingQuery = `\n      SELECT\n        address_id,\n        booking_no\n      FROM\n        address_booking\n      WHERE\n        address_id IN (${addressIds.map(()=>\"?\").join(\", \")})\n    `;\n        const [bookingRows] = await connection.execute(bookingQuery, addressIds);\n        // 3. จับคู่ booking_no กับ address_id\n        const bookingMap = new Map();\n        bookingRows.forEach((row)=>{\n            if (!bookingMap.has(row.address_id)) {\n                bookingMap.set(row.address_id, []);\n            }\n            bookingMap.get(row.address_id).push(row.booking_no) // เปลี่ยนจาก booking_id เป็น booking_no\n            ;\n        });\n        // 4. เพิ่ม booking_ids ลงใน addressRows\n        const result = addressRows.map((row)=>({\n                ...row,\n                booking_ids: bookingMap.get(row.id) || []\n            }));\n        // 5. ดึง facuname จากตาราง m_faculties ตาม facid\n        const facidArray = addressRows.map((row)=>row.facid);\n        if (facidArray.length > 0) {\n            const uniqueFacids = [\n                ...new Set(facidArray)\n            ];\n            const facidPlaceholders = uniqueFacids.map(()=>\"?\").join(\", \");\n            const facQuery = `\n        SELECT\n          id AS facid,\n          facuname\n        FROM\n          m_faculties\n        WHERE\n          id IN (${facidPlaceholders})\n      `;\n            const [faculties] = await connection.execute(facQuery, uniqueFacids);\n            const facultyMap = new Map(faculties.map((faculty)=>[\n                    faculty.facid,\n                    faculty.facuname\n                ]));\n            // 6. เพิ่ม facuname ลงในผลลัพธ์\n            result.forEach((row)=>{\n                row.facuname = facultyMap.get(row.facid) || \"\";\n            });\n        }\n        return new Response(JSON.stringify({\n            data: result\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching addresses:\", error.message);\n        return new Response(JSON.stringify({\n            error: \"Failed to fetch addresses\",\n            details: error.message\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } finally{\n        if (connection) {\n            await connection.end();\n        }\n    }\n} // ฟังก์ชัน PUT และ DELETE ที่ถูกคอมเมนต์ออกมาแล้วหรือมีการแก้ไขเพิ่มเติม\n // export async function PUT(request) {\n //   let connection\n //   try {\n //     connection = await dbConnect()\n //     const body = await request.json()\n //     let { id, film_no, booking_no, update_by, uni_id } = body\n //     if (!id) {\n //       return new Response(JSON.stringify({ error: 'Parameter id is required' }), {\n //         status: 400,\n //         headers: { 'Content-Type': 'application/json' }\n //       })\n //     }\n //     film_no = film_no !== undefined ? film_no : null\n //     booking_no = booking_no !== undefined ? booking_no : null\n //     update_by = update_by !== undefined ? update_by : null\n //     uni_id = uni_id !== undefined ? uni_id : null\n //     await connection.beginTransaction()\n //     const updateAddressQuery = `\n //       UPDATE address\n //       SET film_no = ?, booking_no = ?, update_date = NOW(), update_by = ?\n //       WHERE id = ?\n //     `\n //     await connection.execute(updateAddressQuery, [film_no, booking_no, update_by, id])\n //     const checkBookingQuery = `\n //       SELECT id FROM b_bookingfw WHERE orderid = ?\n //     `\n //     const [existingBooking] = await connection.execute(checkBookingQuery, [id])\n //     if (existingBooking.length > 0) {\n //       const updateBookingQuery = `\n //         UPDATE b_bookingfw\n //         SET booking_no = ?, film_no = ?, uni_id = ?\n //         WHERE orderid = ?\n //       `\n //       await connection.execute(updateBookingQuery, [booking_no, film_no, uni_id, id])\n //     } else {\n //       const insertBookingQuery = `\n //         INSERT INTO b_bookingfw (booking_no, uni_id, orderid, film_no)\n //         VALUES (?, ?, ?, ?)\n //       `\n //       await connection.execute(insertBookingQuery, [booking_no, uni_id, id, film_no])\n //     }\n //     const checkAddressBookingQuery = `\n //       SELECT * FROM address_booking WHERE address_id = ?\n //     `\n //     const [existingAddressBooking] = await connection.execute(checkAddressBookingQuery, [id])\n //     if (existingAddressBooking.length > 0) {\n //       const updateAddressBookingQuery = `\n //         UPDATE address_booking\n //         SET booking_no = ?, film_no = ?, uni_id = ?\n //         WHERE address_id = ?\n //       `\n //       const [updateResult] = await connection.execute(updateAddressBookingQuery, [booking_no, film_no, uni_id, id])\n //     } else {\n //       const insertAddressBookingQuery = `\n //         INSERT INTO address_booking (booking_no, address_id, film_no, uni_id)\n //         VALUES (?, ?, ?, ?)\n //       `\n //       const [insertResult] = await connection.execute(insertAddressBookingQuery, [booking_no, id, film_no, uni_id])\n //     }\n //     await connection.commit()\n //     return new Response(JSON.stringify({ message: 'Reservation updated/inserted successfully' }), {\n //       status: 200,\n //       headers: { 'Content-Type': 'application/json' }\n //     })\n //   } catch (error) {\n //     if (connection) {\n //       await connection.rollback()\n //     }\n //     console.error('Error updating/inserting reservation:', error.message)\n //     return new Response(\n //       JSON.stringify({\n //         error: 'Failed to update/insert reservation',\n //         details: error.message\n //       }),\n //       {\n //         status: 500,\n //         headers: { 'Content-Type': 'application/json' }\n //       }\n //     )\n //   } finally {\n //     if (connection) {\n //       await connection.end()\n //     }\n //   }\n // }\n // export async function DELETE(request) {\n //   let connection\n //   try {\n //     connection = await dbConnect()\n //     const body = await request.json()\n //     const { id, booking_no } = body\n //     if (!id || !booking_no) {\n //       return new Response(JSON.stringify({ error: 'Parameters id and booking_no are required' }), {\n //         status: 400,\n //         headers: { 'Content-Type': 'application/json' }\n //       })\n //     }\n //     await connection.beginTransaction()\n //     const deleteAddressBookingQuery = `\n //       DELETE FROM address_booking WHERE address_id = ? AND booking_no = ?\n //     `\n //     await connection.execute(deleteAddressBookingQuery, [id, booking_no])\n //     await connection.commit()\n //     return new Response(JSON.stringify({ message: 'Reservation deleted successfully' }), {\n //       status: 200,\n //       headers: { 'Content-Type': 'application/json' }\n //     })\n //   } catch (error) {\n //     if (connection) {\n //       await connection.rollback()\n //     }\n //     console.error('Error deleting reservation:', error.message)\n //     return new Response(\n //       JSON.stringify({\n //         error: 'Failed to delete reservation',\n //         details: error.message\n //       }),\n //       {\n //         status: 500,\n //         headers: { 'Content-Type': 'application/json' }\n //       }\n //     )\n //   } finally {\n //     if (connection) {\n //       await connection.end()\n //     }\n //   }\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDNUUsUUFBUTtDQUNSLDRFQUE0RTtDQUU1RSxnQ0FBZ0M7Q0FFaEMsNkZBQTZGO0NBQzdGLHFCQUFxQjtDQUNyQix3REFBd0Q7Q0FDeEQsU0FBUztDQUNULHNCQUFzQjtDQUN0Qix3QkFBd0I7Q0FDeEIsb0NBQW9DO0NBQ3BDLFFBQVE7Q0FDUixrRUFBa0U7Q0FDbEUsMkJBQTJCO0NBQzNCLHlCQUF5QjtDQUN6QixpREFBaUQ7Q0FDakQsaUNBQWlDO0NBQ2pDLFlBQVk7Q0FDWixVQUFVO0NBQ1YsdUJBQXVCO0NBQ3ZCLDBEQUEwRDtDQUMxRCxVQUFVO0NBQ1YsUUFBUTtDQUNSLGdCQUFnQjtDQUNoQix3QkFBd0I7Q0FDeEIsK0JBQStCO0NBQy9CLFFBQVE7Q0FDUixNQUFNO0NBQ04sSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZXh5LW11aS1uZXh0anMtYWRtaW4tdGVtcGxhdGUvLi9zcmMvYXBwL2FwaS9vcmRlcmxpc3Qvcm91dGUuanM/OTU4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwyL3Byb21pc2UnXG5cbmNvbnN0IGRiQ29ubmVjdCA9IGFzeW5jICgpID0+IHtcbiAgcmV0dXJuIGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xuICAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsXG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUixcbiAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gICAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUVcbiAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0KSB7XG4gIGxldCBjb25uZWN0aW9uXG5cbiAgdHJ5IHtcbiAgICBjb25uZWN0aW9uID0gYXdhaXQgZGJDb25uZWN0KClcblxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IHVuaV9pZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3VuaV9pZCcpXG5cbiAgICBpZiAoIXVuaV9pZCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnUGFyYW1ldGVyIHVuaV9pZCBpcyByZXF1aXJlZCcgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIDEuIOC4lOC4tuC4h+C4guC5ieC4reC4oeC4ueC4peC4iOC4suC4geC4leC4suC4o+C4suC4hyBhZGRyZXNzIOC4leC4suC4oSB1bmlfaWRcbiAgICBjb25zdCBhZGRyZXNzUXVlcnkgPSBgXG4gICAgICBTRUxFQ1RcbiAgICAgICAgaWQsXG4gICAgICAgIG5vX2ltcG9ydGVkLFxuICAgICAgICBmaWxtX25vLFxuICAgICAgICBmbmFtZSxcbiAgICAgICAgbG5hbWUsXG4gICAgICAgIGZhY2lkLFxuICAgICAgICB1cGRhdGVfZGF0ZSxcbiAgICAgICAgdXBkYXRlX2J5XG4gICAgICBGUk9NXG4gICAgICAgIGFkZHJlc3NcbiAgICAgIFdIRVJFXG4gICAgICAgIHVuaV9pZCA9ID9cbiAgICBgXG5cbiAgICBjb25zdCBbYWRkcmVzc1Jvd3NdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKGFkZHJlc3NRdWVyeSwgW3VuaV9pZF0pXG5cbiAgICBjb25zdCBhZGRyZXNzSWRzID0gYWRkcmVzc1Jvd3MubWFwKHJvdyA9PiByb3cuaWQpXG5cbiAgICBpZiAoYWRkcmVzc0lkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBkYXRhOiBbXSB9KSwge1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gMi4g4LiU4Li24LiHIGJvb2tpbmdfbm8g4LiI4Liy4LiB4LiV4Liy4Lij4Liy4LiHIGFkZHJlc3NfYm9va2luZyDguJfguLXguYjguYDguIHguLXguYjguKLguKfguILguYnguK3guIfguIHguLHguJogYWRkcmVzc19pZFxuICAgIGNvbnN0IGJvb2tpbmdRdWVyeSA9IGBcbiAgICAgIFNFTEVDVFxuICAgICAgICBhZGRyZXNzX2lkLFxuICAgICAgICBib29raW5nX25vXG4gICAgICBGUk9NXG4gICAgICAgIGFkZHJlc3NfYm9va2luZ1xuICAgICAgV0hFUkVcbiAgICAgICAgYWRkcmVzc19pZCBJTiAoJHthZGRyZXNzSWRzLm1hcCgoKSA9PiAnPycpLmpvaW4oJywgJyl9KVxuICAgIGBcblxuICAgIGNvbnN0IFtib29raW5nUm93c10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoYm9va2luZ1F1ZXJ5LCBhZGRyZXNzSWRzKVxuXG4gICAgLy8gMy4g4LiI4Lix4Lia4LiE4Li54LmIIGJvb2tpbmdfbm8g4LiB4Lix4LiaIGFkZHJlc3NfaWRcbiAgICBjb25zdCBib29raW5nTWFwID0gbmV3IE1hcCgpXG4gICAgYm9va2luZ1Jvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgaWYgKCFib29raW5nTWFwLmhhcyhyb3cuYWRkcmVzc19pZCkpIHtcbiAgICAgICAgYm9va2luZ01hcC5zZXQocm93LmFkZHJlc3NfaWQsIFtdKVxuICAgICAgfVxuICAgICAgYm9va2luZ01hcC5nZXQocm93LmFkZHJlc3NfaWQpLnB1c2gocm93LmJvb2tpbmdfbm8pIC8vIOC5gOC4m+C4peC4teC5iOC4ouC4meC4iOC4suC4gSBib29raW5nX2lkIOC5gOC4m+C5h+C4mSBib29raW5nX25vXG4gICAgfSlcblxuICAgIC8vIDQuIOC5gOC4nuC4tOC5iOC4oSBib29raW5nX2lkcyDguKXguIfguYPguJkgYWRkcmVzc1Jvd3NcbiAgICBjb25zdCByZXN1bHQgPSBhZGRyZXNzUm93cy5tYXAocm93ID0+ICh7XG4gICAgICAuLi5yb3csXG4gICAgICBib29raW5nX2lkczogYm9va2luZ01hcC5nZXQocm93LmlkKSB8fCBbXVxuICAgIH0pKVxuXG4gICAgLy8gNS4g4LiU4Li24LiHIGZhY3VuYW1lIOC4iOC4suC4geC4leC4suC4o+C4suC4hyBtX2ZhY3VsdGllcyDguJXguLLguKEgZmFjaWRcbiAgICBjb25zdCBmYWNpZEFycmF5ID0gYWRkcmVzc1Jvd3MubWFwKHJvdyA9PiByb3cuZmFjaWQpXG4gICAgaWYgKGZhY2lkQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdW5pcXVlRmFjaWRzID0gWy4uLm5ldyBTZXQoZmFjaWRBcnJheSldXG4gICAgICBjb25zdCBmYWNpZFBsYWNlaG9sZGVycyA9IHVuaXF1ZUZhY2lkcy5tYXAoKCkgPT4gJz8nKS5qb2luKCcsICcpXG4gICAgICBjb25zdCBmYWNRdWVyeSA9IGBcbiAgICAgICAgU0VMRUNUXG4gICAgICAgICAgaWQgQVMgZmFjaWQsXG4gICAgICAgICAgZmFjdW5hbWVcbiAgICAgICAgRlJPTVxuICAgICAgICAgIG1fZmFjdWx0aWVzXG4gICAgICAgIFdIRVJFXG4gICAgICAgICAgaWQgSU4gKCR7ZmFjaWRQbGFjZWhvbGRlcnN9KVxuICAgICAgYFxuICAgICAgY29uc3QgW2ZhY3VsdGllc10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoZmFjUXVlcnksIHVuaXF1ZUZhY2lkcylcbiAgICAgIGNvbnN0IGZhY3VsdHlNYXAgPSBuZXcgTWFwKGZhY3VsdGllcy5tYXAoZmFjdWx0eSA9PiBbZmFjdWx0eS5mYWNpZCwgZmFjdWx0eS5mYWN1bmFtZV0pKVxuXG4gICAgICAvLyA2LiDguYDguJ7guLTguYjguKEgZmFjdW5hbWUg4Lil4LiH4LmD4LiZ4Lic4Lil4Lil4Lix4Lie4LiY4LmMXG4gICAgICByZXN1bHQuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICByb3cuZmFjdW5hbWUgPSBmYWN1bHR5TWFwLmdldChyb3cuZmFjaWQpIHx8ICcnXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBkYXRhOiByZXN1bHQgfSksIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFkZHJlc3NlczonLCBlcnJvci5tZXNzYWdlKVxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGFkZHJlc3NlcycsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH1cbiAgICApXG4gIH0gZmluYWxseSB7XG4gICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZW5kKClcbiAgICB9XG4gIH1cbn1cblxuLy8g4Lif4Lix4LiH4LiB4LmM4LiK4Lix4LiZIFBVVCDguYHguKXguLAgREVMRVRFIOC4l+C4teC5iOC4luC4ueC4geC4hOC4reC4oeC5gOC4oeC4meC4leC5jOC4reC4reC4geC4oeC4suC5geC4peC5ieC4p+C4q+C4o+C4t+C4reC4oeC4teC4geC4suC4o+C5geC4geC5ieC5hOC4guC5gOC4nuC4tOC5iOC4oeC5gOC4leC4tOC4oVxuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3QpIHtcbi8vICAgbGV0IGNvbm5lY3Rpb25cblxuLy8gICB0cnkge1xuLy8gICAgIGNvbm5lY3Rpb24gPSBhd2FpdCBkYkNvbm5lY3QoKVxuXG4vLyAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4vLyAgICAgbGV0IHsgaWQsIGZpbG1fbm8sIGJvb2tpbmdfbm8sIHVwZGF0ZV9ieSwgdW5pX2lkIH0gPSBib2R5XG5cbi8vICAgICBpZiAoIWlkKSB7XG4vLyAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdQYXJhbWV0ZXIgaWQgaXMgcmVxdWlyZWQnIH0pLCB7XG4vLyAgICAgICAgIHN0YXR1czogNDAwLFxuLy8gICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuLy8gICAgICAgfSlcbi8vICAgICB9XG5cbi8vICAgICBmaWxtX25vID0gZmlsbV9ubyAhPT0gdW5kZWZpbmVkID8gZmlsbV9ubyA6IG51bGxcbi8vICAgICBib29raW5nX25vID0gYm9va2luZ19ubyAhPT0gdW5kZWZpbmVkID8gYm9va2luZ19ubyA6IG51bGxcbi8vICAgICB1cGRhdGVfYnkgPSB1cGRhdGVfYnkgIT09IHVuZGVmaW5lZCA/IHVwZGF0ZV9ieSA6IG51bGxcbi8vICAgICB1bmlfaWQgPSB1bmlfaWQgIT09IHVuZGVmaW5lZCA/IHVuaV9pZCA6IG51bGxcblxuLy8gICAgIGF3YWl0IGNvbm5lY3Rpb24uYmVnaW5UcmFuc2FjdGlvbigpXG5cbi8vICAgICBjb25zdCB1cGRhdGVBZGRyZXNzUXVlcnkgPSBgXG4vLyAgICAgICBVUERBVEUgYWRkcmVzc1xuLy8gICAgICAgU0VUIGZpbG1fbm8gPSA/LCBib29raW5nX25vID0gPywgdXBkYXRlX2RhdGUgPSBOT1coKSwgdXBkYXRlX2J5ID0gP1xuLy8gICAgICAgV0hFUkUgaWQgPSA/XG4vLyAgICAgYFxuLy8gICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSh1cGRhdGVBZGRyZXNzUXVlcnksIFtmaWxtX25vLCBib29raW5nX25vLCB1cGRhdGVfYnksIGlkXSlcblxuLy8gICAgIGNvbnN0IGNoZWNrQm9va2luZ1F1ZXJ5ID0gYFxuLy8gICAgICAgU0VMRUNUIGlkIEZST00gYl9ib29raW5nZncgV0hFUkUgb3JkZXJpZCA9ID9cbi8vICAgICBgXG4vLyAgICAgY29uc3QgW2V4aXN0aW5nQm9va2luZ10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoY2hlY2tCb29raW5nUXVlcnksIFtpZF0pXG5cbi8vICAgICBpZiAoZXhpc3RpbmdCb29raW5nLmxlbmd0aCA+IDApIHtcbi8vICAgICAgIGNvbnN0IHVwZGF0ZUJvb2tpbmdRdWVyeSA9IGBcbi8vICAgICAgICAgVVBEQVRFIGJfYm9va2luZ2Z3XG4vLyAgICAgICAgIFNFVCBib29raW5nX25vID0gPywgZmlsbV9ubyA9ID8sIHVuaV9pZCA9ID9cbi8vICAgICAgICAgV0hFUkUgb3JkZXJpZCA9ID9cbi8vICAgICAgIGBcbi8vICAgICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZSh1cGRhdGVCb29raW5nUXVlcnksIFtib29raW5nX25vLCBmaWxtX25vLCB1bmlfaWQsIGlkXSlcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgY29uc3QgaW5zZXJ0Qm9va2luZ1F1ZXJ5ID0gYFxuLy8gICAgICAgICBJTlNFUlQgSU5UTyBiX2Jvb2tpbmdmdyAoYm9va2luZ19ubywgdW5pX2lkLCBvcmRlcmlkLCBmaWxtX25vKVxuLy8gICAgICAgICBWQUxVRVMgKD8sID8sID8sID8pXG4vLyAgICAgICBgXG4vLyAgICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoaW5zZXJ0Qm9va2luZ1F1ZXJ5LCBbYm9va2luZ19ubywgdW5pX2lkLCBpZCwgZmlsbV9ub10pXG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3QgY2hlY2tBZGRyZXNzQm9va2luZ1F1ZXJ5ID0gYFxuLy8gICAgICAgU0VMRUNUICogRlJPTSBhZGRyZXNzX2Jvb2tpbmcgV0hFUkUgYWRkcmVzc19pZCA9ID9cbi8vICAgICBgXG4vLyAgICAgY29uc3QgW2V4aXN0aW5nQWRkcmVzc0Jvb2tpbmddID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKGNoZWNrQWRkcmVzc0Jvb2tpbmdRdWVyeSwgW2lkXSlcblxuLy8gICAgIGlmIChleGlzdGluZ0FkZHJlc3NCb29raW5nLmxlbmd0aCA+IDApIHtcbi8vICAgICAgIGNvbnN0IHVwZGF0ZUFkZHJlc3NCb29raW5nUXVlcnkgPSBgXG4vLyAgICAgICAgIFVQREFURSBhZGRyZXNzX2Jvb2tpbmdcbi8vICAgICAgICAgU0VUIGJvb2tpbmdfbm8gPSA/LCBmaWxtX25vID0gPywgdW5pX2lkID0gP1xuLy8gICAgICAgICBXSEVSRSBhZGRyZXNzX2lkID0gP1xuLy8gICAgICAgYFxuLy8gICAgICAgY29uc3QgW3VwZGF0ZVJlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUodXBkYXRlQWRkcmVzc0Jvb2tpbmdRdWVyeSwgW2Jvb2tpbmdfbm8sIGZpbG1fbm8sIHVuaV9pZCwgaWRdKVxuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICBjb25zdCBpbnNlcnRBZGRyZXNzQm9va2luZ1F1ZXJ5ID0gYFxuLy8gICAgICAgICBJTlNFUlQgSU5UTyBhZGRyZXNzX2Jvb2tpbmcgKGJvb2tpbmdfbm8sIGFkZHJlc3NfaWQsIGZpbG1fbm8sIHVuaV9pZClcbi8vICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/KVxuLy8gICAgICAgYFxuLy8gICAgICAgY29uc3QgW2luc2VydFJlc3VsdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoaW5zZXJ0QWRkcmVzc0Jvb2tpbmdRdWVyeSwgW2Jvb2tpbmdfbm8sIGlkLCBmaWxtX25vLCB1bmlfaWRdKVxuLy8gICAgIH1cblxuLy8gICAgIGF3YWl0IGNvbm5lY3Rpb24uY29tbWl0KClcblxuLy8gICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnUmVzZXJ2YXRpb24gdXBkYXRlZC9pbnNlcnRlZCBzdWNjZXNzZnVsbHknIH0pLCB7XG4vLyAgICAgICBzdGF0dXM6IDIwMCxcbi8vICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4vLyAgICAgfSlcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBpZiAoY29ubmVjdGlvbikge1xuLy8gICAgICAgYXdhaXQgY29ubmVjdGlvbi5yb2xsYmFjaygpXG4vLyAgICAgfVxuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nL2luc2VydGluZyByZXNlcnZhdGlvbjonLCBlcnJvci5tZXNzYWdlKVxuLy8gICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4vLyAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4vLyAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZS9pbnNlcnQgcmVzZXJ2YXRpb24nLFxuLy8gICAgICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlXG4vLyAgICAgICB9KSxcbi8vICAgICAgIHtcbi8vICAgICAgICAgc3RhdHVzOiA1MDAsXG4vLyAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4vLyAgICAgICB9XG4vLyAgICAgKVxuLy8gICB9IGZpbmFsbHkge1xuLy8gICAgIGlmIChjb25uZWN0aW9uKSB7XG4vLyAgICAgICBhd2FpdCBjb25uZWN0aW9uLmVuZCgpXG4vLyAgICAgfVxuLy8gICB9XG4vLyB9XG5cbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdCkge1xuLy8gICBsZXQgY29ubmVjdGlvblxuXG4vLyAgIHRyeSB7XG4vLyAgICAgY29ubmVjdGlvbiA9IGF3YWl0IGRiQ29ubmVjdCgpXG5cbi8vICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbi8vICAgICBjb25zdCB7IGlkLCBib29raW5nX25vIH0gPSBib2R5XG5cbi8vICAgICBpZiAoIWlkIHx8ICFib29raW5nX25vKSB7XG4vLyAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdQYXJhbWV0ZXJzIGlkIGFuZCBib29raW5nX25vIGFyZSByZXF1aXJlZCcgfSksIHtcbi8vICAgICAgICAgc3RhdHVzOiA0MDAsXG4vLyAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4vLyAgICAgICB9KVxuLy8gICAgIH1cblxuLy8gICAgIGF3YWl0IGNvbm5lY3Rpb24uYmVnaW5UcmFuc2FjdGlvbigpXG5cbi8vICAgICBjb25zdCBkZWxldGVBZGRyZXNzQm9va2luZ1F1ZXJ5ID0gYFxuLy8gICAgICAgREVMRVRFIEZST00gYWRkcmVzc19ib29raW5nIFdIRVJFIGFkZHJlc3NfaWQgPSA/IEFORCBib29raW5nX25vID0gP1xuLy8gICAgIGBcbi8vICAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoZGVsZXRlQWRkcmVzc0Jvb2tpbmdRdWVyeSwgW2lkLCBib29raW5nX25vXSlcblxuLy8gICAgIGF3YWl0IGNvbm5lY3Rpb24uY29tbWl0KClcblxuLy8gICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnUmVzZXJ2YXRpb24gZGVsZXRlZCBzdWNjZXNzZnVsbHknIH0pLCB7XG4vLyAgICAgICBzdGF0dXM6IDIwMCxcbi8vICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4vLyAgICAgfSlcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBpZiAoY29ubmVjdGlvbikge1xuLy8gICAgICAgYXdhaXQgY29ubmVjdGlvbi5yb2xsYmFjaygpXG4vLyAgICAgfVxuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHJlc2VydmF0aW9uOicsIGVycm9yLm1lc3NhZ2UpXG4vLyAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbi8vICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbi8vICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZGVsZXRlIHJlc2VydmF0aW9uJyxcbi8vICAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZVxuLy8gICAgICAgfSksXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHN0YXR1czogNTAwLFxuLy8gICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuLy8gICAgICAgfVxuLy8gICAgIClcbi8vICAgfSBmaW5hbGx5IHtcbi8vICAgICBpZiAoY29ubmVjdGlvbikge1xuLy8gICAgICAgYXdhaXQgY29ubmVjdGlvbi5lbmQoKVxuLy8gICAgIH1cbi8vICAgfVxuLy8gfVxuIl0sIm5hbWVzIjpbIm15c3FsIiwiZGJDb25uZWN0IiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiREJfSE9TVCIsInVzZXIiLCJEQl9VU0VSIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsImRhdGFiYXNlIiwiREJfTkFNRSIsIkdFVCIsInJlcXVlc3QiLCJjb25uZWN0aW9uIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwidW5pX2lkIiwiZ2V0IiwiUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJzdGF0dXMiLCJoZWFkZXJzIiwiYWRkcmVzc1F1ZXJ5IiwiYWRkcmVzc1Jvd3MiLCJleGVjdXRlIiwiYWRkcmVzc0lkcyIsIm1hcCIsInJvdyIsImlkIiwibGVuZ3RoIiwiZGF0YSIsImJvb2tpbmdRdWVyeSIsImpvaW4iLCJib29raW5nUm93cyIsImJvb2tpbmdNYXAiLCJNYXAiLCJmb3JFYWNoIiwiaGFzIiwiYWRkcmVzc19pZCIsInNldCIsInB1c2giLCJib29raW5nX25vIiwicmVzdWx0IiwiYm9va2luZ19pZHMiLCJmYWNpZEFycmF5IiwiZmFjaWQiLCJ1bmlxdWVGYWNpZHMiLCJTZXQiLCJmYWNpZFBsYWNlaG9sZGVycyIsImZhY1F1ZXJ5IiwiZmFjdWx0aWVzIiwiZmFjdWx0eU1hcCIsImZhY3VsdHkiLCJmYWN1bmFtZSIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZGV0YWlscyIsImVuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/orderlist/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/mysql2@3.11.0","vendor-chunks/aws-ssl-profiles@1.1.1","vendor-chunks/iconv-lite@0.6.3","vendor-chunks/lru-cache@8.0.5","vendor-chunks/long@5.2.3","vendor-chunks/lru-cache@7.18.3","vendor-chunks/denque@2.1.0","vendor-chunks/is-property@1.0.2","vendor-chunks/sqlstring@2.3.3","vendor-chunks/seq-queue@0.0.5","vendor-chunks/named-placeholders@1.1.3","vendor-chunks/generate-function@2.3.1","vendor-chunks/safer-buffer@2.1.2"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forderlist%2Froute&page=%2Fapi%2Forderlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forderlist%2Froute.js&appDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDesktop%5Cpapayond-1%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ccomma%5COneDrive%5CDesktop%5Cpapayond-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();